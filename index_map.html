<!DOCTYPE html>
<html>
<head>
    <title>Google Maps Parking Tests</title>
    <style type="text/css">

      html, body
      {
        height: 100%;
        margin: 0;
      }

      #map
      {
        height: 100%;
        width: 100%;
      }

    </style>
</head>
<body>
    <div id="map"></div>

    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
    <script type="text/javascript">

    // Gets the user's position
    function getUserPosition(success) {

      navigator.geolocation.getCurrentPosition(

        // Success
        function(position) {
          success(position.coords.latitude, position.coords.longitude);
        },

        // Error
        function(err) {

          // Use the default coordinates of Moz
          initMap(47.6061287, -122.335073);

        }

      );

    }

    // Initializes the map, centering on the specified latitude and longitude
    function initMap(latitude, longitude) {

      var mapOptions =
      {
        zoom: 20,
        center: new google.maps.LatLng(latitude, longitude),
        mapTypeId: google.maps.MapTypeId.ROADMAP
      };

      var map = new google.maps.Map(document.getElementById('map'),
      mapOptions);

      google.maps.event.addListener(map, "click", function(event)
      {
        console.log(event.latLng.lat());
        console.log(event.latLng.lng());
      });

    }

    getUserPosition(initMap);

    </script>
</body>
</html>

<!--
var watchID = geo.watchPosition(

// Position was successfully retrieved
function(position) {

onSuccess && onSuccess({
'latitude': position.coords.latitude,
'longitude': position.coords.latitude,
'accuracy': position.coords.accuracy
});

},

function(err) {
if (typeof onError == 'function')
onError(err);
},

// Options
{
enableHighAccuracy: highAccuracy,
maximumAge: timeout,
timeout: geoTimeout
}
);

return watchID;
}

this.clearWatch = function(watchID)
{
var geo = this.getApi();

if(geo !== null)
geo.clearWatch(watchID);
}
-->
